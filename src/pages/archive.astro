---
import BaseHead from "@/packages/components/BaseHead.astro";
import Footer from "@/packages/components/Footer.astro";
import Header from "@/packages/components/Header.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "@/packages/consts";
import Global from "@/packages/layouts/Global.astro";
import MantineMain from "../components/MantineMain";
import Years from "../components/Years";
import MantineHeat from "../components/MantineHeat";
import { getCounts, getHeatmapData } from "@/packages/utils/heatmap";


const heatData = await getHeatmapData()
const counts = await getCounts()
---

<Global>
  <BaseHead
    title={`${SITE_TITLE} | Archive`}
    description={SITE_DESCRIPTION}
    slot="head"
  />
  <Header/>
  <MantineMain>
    <Years />
    <MantineHeat data={heatData} count={counts["2025"]}/>
    <Footer slug={"archive"} />
  </MantineMain>
</Global>
