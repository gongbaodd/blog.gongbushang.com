---
import type { GetStaticPaths } from "astro"
import Global from "@/layouts/Global.astro"

import BaseHead from "../components/BaseHead.astro"
import Header from "../components/Header.astro"
import Footer from "../components/Footer.astro"
import { SITE_TITLE, SITE_DESCRIPTION } from "../consts"

import profile from "@/assets/profile.jpg"
import { Image } from "astro:assets"
import { getCollection } from "astro:content"

// export const getStaticPaths = async () => {
//   const posts = await getCollection("blog")
//   type T_POST = (typeof posts)[0]

//   const categoryMap = new Map<string, Set<T_POST>>()
//   const tagMap = new Map<string, Set<T_POST>>()
//   const seriesMap = new Map<string, Set<T_POST>>()

//   posts.forEach((post) => {
//     const { category, tag, series } = post.data

//     if (!categoryMap.has(category)) {
//       categoryMap.set(category, new Set())
//     }
//     categoryMap.get(category)?.add(post)

//     tag?.forEach((t) => {
//       if (!tagMap.has(t)) {
//         tagMap.set(t, new Set())
//       }
//       tagMap.get(t)?.add(post)
//     })

//     if (series) {
//       const { slug } = series
//       if (!seriesMap.has(slug)) {
//         seriesMap.set(slug, new Set())
//       }

//       seriesMap.get(slug)?.add(post)
//     }
//   })



//   return []
// }
---

<Global>
  <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} slot="head" />
  <Header title={SITE_TITLE} />
  <main class="justify-self-center flex flex-col">
    <div class="grow flex items-center">
      <Image src={profile} alt="profile" class="rounded-full" />
    </div>
    <Footer />
  </main>
</Global>
