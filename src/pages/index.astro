---
import Global from "../../packages/layouts/Global.astro";

import BaseHead from "../../packages/components/BaseHead.astro";
import { SITE_TITLE, SITE_DESCRIPTION, ROUTES } from "@/packages/consts";

import profile from "@/packages/assets/profile.jpg";
import { Picture } from "astro:assets";
import { Mail, Icon } from "@lucide/astro";
import GitHub from "../icons/github.svg?raw";
import Twitter from "../icons/x.svg?raw";
import Linkedin from "../icons/linkedin.svg?raw";
import Instagram from "../icons/instagram.svg?raw";
import Threads from "../icons/threads.svg?raw";
import Youtube from "../icons/youtube.svg?raw";
import Spotify from "../icons/spotify.svg?raw";
import Itchio from "../icons/itchdotio.svg?raw";
import Jike from "../icons/jike.svg?raw";
import Xiaohongshu from "../icons/xiaohongshu.svg?raw";
import Facebook from "../icons/facebook.svg?raw";
import { getBadges } from "@/packages/utils/badges";
import MantineMain from "../components/MantineMain";
import MantineHeader from "../components/MantineHeader";
import Hero from "../components/Hero";
import SpotifyPlayer from "../components/SpotifyPlayer";
import Tags, { TagGroup } from "../components/Tags";
import NewsLetter from "../components/NewsLetter";
import MantineFooter from "../components/MantineFooter";

export const prerender = true;
const badges = await getBadges();
---

<Global>
  <BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} slot="head" />
  <MantineHeader
    title={SITE_TITLE}
    links={ROUTES}
    pathname={Astro.url.pathname}
  />
  <MantineMain>
    <Hero>
      <Picture src={profile} alt="profile" decoding="async" slot="picture" />
    </Hero>
    <SpotifyPlayer client:load />
    <Tags client:load>
      <TagGroup tags={badges} slot="tagGroup" />
    </Tags>
    <NewsLetter />
    <MantineFooter>
      <Icon set:html={GitHub} width="24" height="24" stroke="none" fill="currentcolor" slot="iconGithub" />
      <Icon set:html={Itchio} width="24" height="24" stroke="none" fill="currentcolor" slot="iconItchio"}  />
      <Icon set:html={Twitter} width="24" height="24" stroke="none" fill="currentcolor" slot="iconTwitter"  />
      <Icon set:html={Linkedin} width="24" height="24" stroke="none" fill="currentcolor" slot="iconLinkedin"  />
      <Icon set:html={Instagram} width="24" height="24" stroke="none" fill="currentcolor" slot="iconInstagram"  />
      <Icon set:html={Threads} width="24" height="24" stroke="none" fill="currentcolor" slot="iconThreads"  />
      <Icon set:html={Spotify} width="24" height="24" stroke="none" fill="currentcolor" slot="iconSpotify" />
      <Icon set:html={Youtube} width="24" height="24" stroke="none" fill="currentcolor" slot="iconYoutube" />
      <Icon set:html={Jike} width="24" height="24" stroke="none" fill="currentcolor" slot="iconJike" />
      <Icon set:html={Xiaohongshu} width="24" height="24" stroke="none" fill="currentcolor" slot="iconXiaohongshu" />
      <Icon set:html={Facebook} width="24" height="24" stroke="none" fill="currentcolor" slot="iconFacebook" />
    </MantineFooter>
  </MantineMain>
</Global>
