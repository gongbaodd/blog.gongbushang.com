---
import type { CollectionEntry } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";

import "github-markdown-css/github-markdown.css";
import Global from "./Global.astro";
import { excerpt, title } from "../utils/extract";
import { ROUTES, SITE_TITLE } from "../consts";
import MantineHeader from "@/src/components/MantineHeader";
import MantineMain from "@/src/components/MantineMain";

type Props = CollectionEntry<"blog">;

const post = Astro.props;
const postTitle = title(post);
const postExcerpt = await excerpt(post);
---

<Global>
  <BaseHead
    title={`${SITE_TITLE} | ${postTitle}`}
    description={postExcerpt}
    slot="head"
  />
  <MantineHeader
    title={SITE_TITLE}
    links={ROUTES}
    pathname={Astro.url.pathname}
  />
  <MantineMain>
    <slot />
    <Footer />
  </MantineMain>
</Global>
